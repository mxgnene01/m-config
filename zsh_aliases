# [daling]
dssh(){
    ssh l-$1.ops.bj$2.daling.com
}

# appgit 
function appgit(){
    cd ~/mxg/git/app/app_php ; git pull ; git difftool origin/master..origin/$1 ; cd -
}

# 通用
# git difftools 调用外部软件
function gitdiff(){
     git pull ; git co . ; git co $1 ;git difftool origin/master..origin/$1
}

# 检查分支和master 是否同源
function gitmergeinfo(){
	git log origin/master ^origin/$1 
}

# 检查分支和master 是否同源
function gitmergetomaster(){
	git push origin $1^{}:master
}

alias wk='vim ~/mxg/work.tmp'
alias uploadsvn='. ~/mxg/bash/uploadsvn.sh'

# general
alias grep='grep --color=auto'
alias javac="javac -J-Dfile.encoding=utf8"
alias -s py=vim       # 在命令行直接输入 python 文件，会用 vim 中打开，以下类似
alias -s js=vim
alias -s c=vim
alias -s java=vim
alias -s txt=vim
alias -s sql=vim
alias -s gz='tar -xzvf'
alias -s tgz='tar -xzvf'
alias -s zip='unzip'
alias -s bz2='tar -xjvf'

alias nginx.start='sudo nginx -c /etc/nginx/nginx.conf'
alias nginx.stop="ps aux | grep nginx | grep master | grep -v grep | awk '{print \$2}' | xargs sudo kill -QUIT"
alias nginx.reload='sudo nginx -c /etc/nginx/nginx.conf -s reload'
alias php-fpm.start="sudo php-fpm -D"
alias php-fpm.stop="ps aux | grep php-fpm | grep -v grep | awk '{print \$2}' | sudo xargs kill"
alias php-fpm.restart='php-fpm.stop && php-fpm.start'

# python alias
alias py='python'
alias ipy='ipython'

# general
alias ll='ls -lhG'
alias vh='sudo vim /etc/hosts'
alias now='date +"%Y-%m-%d %T"'
function ipcn {
    curl "http://ip.cn/?ip=$1"
}

# find
alias lsd='find . -maxdepth 1 -type d | sort'   #列出所有目录
alias dfind='find -type d -name'  #查找文件夹
alias ffind='find -type f -name'  #查找文件
alias lt='ls -lhrt'        #sort by date    最常用到，ls -rt，按修改时间查看目录下文件
alias rmpyc='find . -name "*.pyc" -exec rm -rf {} \; >> /dev/null 2>&1'  #递归删除目录下所有pyc

#chdir
alias ..="cd .."
alias ...="cd ../.."
alias ....="cd ../../.."
alias .....="cd ../../../.."
alias .4='cd ../../../../'
alias .5='cd ../../../../../'


#分屏同时打开多个文件
#vim -oN filea fileb filec
vo(){
   vim -o$# $*
}
vO(){
   vim -O$# $*
}

# 交换两个文件
switchfile() {
    mv $1 ${1}.tmp && mv $2 $1 && mv ${1}.tmp $2
}

# supervisor
alias supervisorctl="sudo supervisorctl -c /etc/supervisor/supervisord.conf"
alias supervisor_start="sudo supervisord -c /etc/supervisor/supervisord.conf"
